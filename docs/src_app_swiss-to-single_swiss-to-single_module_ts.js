"use strict";(self.webpackChunkrocketLeagueWebsite=self.webpackChunkrocketLeagueWebsite||[]).push([["src_app_swiss-to-single_swiss-to-single_module_ts"],{522:(At,U,l)=>{l.r(U),l.d(U,{SwissToSingleModule:()=>Mt});var Z=l(4666),S=l(2543),R=l(4522),L=l(2642),q=l(8987),f=l(2156),w=l(1169),Q=l(207),T=l(4304),M=l(1267),N=l(206),m=l(4410),v=l(4466),c=l(6803),y=l(248),t=l(7708),W=l(253),A=l(1803),u=l(3587);class g{constructor(s,n){this.swissMatchup=[],this.gameDiff=0,this.teamBlacklist=[],this.teamIndex=s,this.swissMatchup=n}update(){if(this.gameDiff=0,this.swissMatchup.length<=0)return;for(let a of this.swissMatchup)this.gameDiff+=u.S.checkWinDiff(this.teamIndex,a);const s=this.swissMatchup[this.swissMatchup.length-1],[n,e]=u.S.teamWon(s);this.teamBlacklist.push(this.teamIndex==n?e:n)}static sortFunctionAllMatches(s,n){let e=0,a=0,o=0,p=0;for(let h of s.swissMatchup)u.S.checkWin(s.teamIndex,h)?e++:a++;for(let h of n.swissMatchup)u.S.checkWin(n.teamIndex,h)?o++:p++;if(e>o||a<p)return-1;if(e<o||a>p)return 1;const d=s.gameDiff,r=n.gameDiff;return d>r?-1:r>d?1:s.teamIndex-n.teamIndex}static sortFunctionSwissRound(s,n){const e=u.S.checkWin(s.teamIndex,s.swissMatchup[s.swissMatchup.length-1]),a=u.S.checkWin(n.teamIndex,n.swissMatchup[n.swissMatchup.length-1]);if(!e&&a)return-1;if(!a&&e)return 1;const o=s.gameDiff,p=n.gameDiff;return o>p?-1:p>o?1:s.teamIndex-n.teamIndex}}var C=l(1324);function I(i,s){1&i&&(t.TgZ(0,"th",9),t._uU(1,"Team 1"),t.qZA())}function V(i,s){if(1&i&&(t.TgZ(0,"td",10),t._UZ(1,"app-team",11),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("id",n.team1)}}function B(i,s){1&i&&(t.TgZ(0,"th",9),t._uU(1,"Wins"),t.qZA())}function D(i,s){if(1&i){const n=t.EpF();t.TgZ(0,"td",10)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3,"Score"),t.qZA(),t.TgZ(4,"input",13),t.NdJ("ngModelChange",function(a){const p=t.CHM(n).$implicit;return t.KtG(p.team1Wins=a)})("input",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.checkValid())}),t.qZA()()()}if(2&i){const n=s.$implicit;t.xp6(4),t.Q6J("ngModel",n.team1Wins)}}function O(i,s){1&i&&(t.TgZ(0,"th",9),t._uU(1,"Losses"),t.qZA())}function H(i,s){if(1&i){const n=t.EpF();t.TgZ(0,"td",10)(1,"mat-form-field",14)(2,"mat-label"),t._uU(3,"Score"),t.qZA(),t.TgZ(4,"input",13),t.NdJ("ngModelChange",function(a){const p=t.CHM(n).$implicit;return t.KtG(p.team2Wins=a)})("input",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.checkValid())}),t.qZA()()()}if(2&i){const n=s.$implicit;t.xp6(4),t.Q6J("ngModel",n.team2Wins)}}function P(i,s){1&i&&(t.TgZ(0,"th",9),t._uU(1,"Team 2"),t.qZA())}function Y(i,s){if(1&i&&(t.TgZ(0,"td",10),t._UZ(1,"app-team",11),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("id",n.team2)}}function F(i,s){1&i&&t._UZ(0,"tr",15)}function E(i,s){1&i&&t._UZ(0,"tr",16)}let k=(()=>{class i{constructor(){this.isValid=new t.vpe,this.tableUpdate=new t.vpe,this.displayedColumns=["team1","score1","score2","team2"]}ngOnInit(){}checkValid(){this.tableUpdate.next();for(let n of this.round.data)if(!n.isValid())return void this.isValid.emit(!1);this.isValid.emit(!0)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-swiss-matchup"]],inputs:{round:"round"},outputs:{isValid:"isValid",tableUpdate:"tableUpdate"},decls:15,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","team1"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","score1"],["matColumnDef","score2"],["matColumnDef","team2"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"id"],["appearance","fill","color","primary",2,"width","100px"],["matInput","","type","number","min","0","max","3",3,"ngModel","ngModelChange","input"],["appearance","fill","color","primary",2,"width","100px","padding","0"],["mat-header-row",""],["mat-row",""]],template:function(n,e){1&n&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,I,2,0,"th",2),t.YNc(3,V,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,B,2,0,"th",2),t.YNc(6,D,5,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,O,2,0,"th",2),t.YNc(9,H,5,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,P,2,0,"th",2),t.YNc(12,Y,2,1,"td",3),t.BQk(),t.YNc(13,F,1,0,"tr",7),t.YNc(14,E,1,0,"tr",8),t.qZA()),2&n&&(t.Q6J("dataSource",e.round),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns))},dependencies:[c.Fj,c.wV,c.JJ,c.qQ,c.Fd,c.On,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,T.KE,T.hX,M.Nt,C.h],styles:["table[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{width:100%}"]}),i})();var j=l(7379);let $=(()=>{class i{constructor(n){this.teamDb=n,this.opponent=0,this.wins=0,this.losses=0,this.opponentTeam=new j.S}ngOnInit(){this.opponent=this.teamIndex===this.matchup.team1?this.matchup.team2:this.matchup.team1,this.wins=this.teamIndex===this.matchup.team1?this.matchup.team1Wins:this.matchup.team2Wins,this.losses=this.teamIndex===this.matchup.team1?this.matchup.team2Wins:this.matchup.team1Wins,this.opponentTeam=this.teamDb.getTeam(this.opponent)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-swiss-opponent"]],inputs:{teamIndex:"teamIndex",matchup:"matchup"},decls:4,vars:5,consts:[["selected","",3,"color"],["matChipAvatar","",3,"src","alt"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-chip-list")(1,"mat-chip",0),t._UZ(2,"img",1),t._uU(3),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("color",e.wins>e.losses?"primary":"accent"),t.xp6(1),t.s9C("src",e.opponentTeam.imagePath,t.LSH),t.s9C("alt",e.opponentTeam.teamName),t.xp6(1),t.AsE(" ",e.wins," - ",e.losses," "))},dependencies:[w.qn,w.HS,w.EC]}),i})();function z(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Seed"),t.qZA())}function X(i,s){if(1&i&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&i){const n=s.$implicit,e=t.oxw();t.xp6(1),t.hij(" ",e.teamDb.getTeam(n.teamIndex).seed," ")}}function G(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Team Name"),t.qZA())}function K(i,s){if(1&i&&(t.TgZ(0,"td",13),t._UZ(1,"app-team",14),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("id",n.teamIndex)}}function tt(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Round 1"),t.qZA())}function et(i,s){if(1&i&&(t.TgZ(0,"td",13),t._UZ(1,"app-swiss-opponent",15),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("teamIndex",n.teamIndex)("matchup",n.swissMatchup[0])}}function nt(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Round 2"),t.qZA())}function it(i,s){if(1&i&&t._UZ(0,"app-swiss-opponent",15),2&i){const n=t.oxw().$implicit;t.Q6J("teamIndex",n.teamIndex)("matchup",n.swissMatchup[1])}}function st(i,s){if(1&i&&(t.TgZ(0,"td",13),t.YNc(1,it,1,2,"app-swiss-opponent",16),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",n.swissMatchup[1])}}function at(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Round 3"),t.qZA())}function ot(i,s){if(1&i&&t._UZ(0,"app-swiss-opponent",15),2&i){const n=t.oxw().$implicit;t.Q6J("teamIndex",n.teamIndex)("matchup",n.swissMatchup[2])}}function mt(i,s){if(1&i&&(t.TgZ(0,"td",13),t.YNc(1,ot,1,2,"app-swiss-opponent",16),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",n.swissMatchup[2])}}function pt(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Round 4"),t.qZA())}function dt(i,s){if(1&i&&t._UZ(0,"app-swiss-opponent",15),2&i){const n=t.oxw().$implicit;t.Q6J("teamIndex",n.teamIndex)("matchup",n.swissMatchup[3])}}function lt(i,s){if(1&i&&(t.TgZ(0,"td",13),t.YNc(1,dt,1,2,"app-swiss-opponent",16),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",n.swissMatchup[3])}}function ut(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Round 5"),t.qZA())}function rt(i,s){if(1&i&&t._UZ(0,"app-swiss-opponent",15),2&i){const n=t.oxw().$implicit;t.Q6J("teamIndex",n.teamIndex)("matchup",n.swissMatchup[4])}}function ht(i,s){if(1&i&&(t.TgZ(0,"td",13),t.YNc(1,rt,1,2,"app-swiss-opponent",16),t.qZA()),2&i){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",n.swissMatchup[4])}}function ct(i,s){1&i&&t._UZ(0,"tr",17)}function gt(i,s){1&i&&t._UZ(0,"tr",18)}let _t=(()=>{class i{constructor(n){this.teamDb=n,this.displayedColumns=["teamName","Round 1"]}ngOnInit(){}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(A.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-leader-board"]],inputs:{teams:"teams",displayedColumns:"displayedColumns"},decls:24,vars:3,consts:[["mat-table","",3,"dataSource"],["matColumnDef","seed"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","teamName"],["matColumnDef","Round 1"],["matColumnDef","Round 2"],["matColumnDef","Round 3"],["matColumnDef","Round 4"],["matColumnDef","Round 5"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"id"],[3,"teamIndex","matchup"],[3,"teamIndex","matchup",4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(n,e){1&n&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,z,2,0,"th",2),t.YNc(3,X,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,G,2,0,"th",2),t.YNc(6,K,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,tt,2,0,"th",2),t.YNc(9,et,2,2,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,nt,2,0,"th",2),t.YNc(12,st,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,at,2,0,"th",2),t.YNc(15,mt,2,1,"td",3),t.BQk(),t.ynx(16,8),t.YNc(17,pt,2,0,"th",2),t.YNc(18,lt,2,1,"td",3),t.BQk(),t.ynx(19,9),t.YNc(20,ut,2,0,"th",2),t.YNc(21,ht,2,1,"td",3),t.BQk(),t.YNc(22,ct,1,0,"tr",10),t.YNc(23,gt,1,0,"tr",11),t.qZA()),2&n&&(t.Q6J("dataSource",e.teams),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns))},dependencies:[Z.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,C.h,$],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),i})(),ft=(()=>{class i{constructor(){this.teamsTop8=new t.vpe,this.displayedColumns=["teamName","Round 1"],this.teamsUnsorted=[],this.teamsSorted=new m.by([]),this.round1=new m.by([]),this.round2High=new m.by([]),this.round2Low=new m.by([]),this.round2HighValid=!1,this.round2LowValid=!1,this.round3High=new m.by([]),this.round3Mid=new m.by([]),this.round3Low=new m.by([]),this.round3HighValid=!1,this.round3MidValid=!1,this.round3LowValid=!1,this.round4High=new m.by([]),this.round4Low=new m.by([]),this.round4HighValid=!1,this.round4LowValid=!1,this.round5=new m.by([])}ngOnInit(){this.sub=this.loadBracket.subscribe(()=>{let n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];for(let e of n)this.teamsUnsorted.push(new g(e,[]));this.teamsSorted.data=this.teamsUnsorted.slice().sort(g.sortFunctionAllMatches),this.initiateBracket()})}ngOnDestroy(){this.sub.unsubscribe()}resetTable(){this.teamsUnsorted=[],this.teamsSorted=new m.by([]),this.round1=new m.by([]),this.round2High=new m.by([]),this.round2Low=new m.by([]),this.round2HighValid=!1,this.round2LowValid=!1,this.round3High=new m.by([]),this.round3Mid=new m.by([]),this.round3Low=new m.by([]),this.round3HighValid=!1,this.round3MidValid=!1,this.round3LowValid=!1,this.round4High=new m.by([]),this.round4Low=new m.by([]),this.round4HighValid=!1,this.round4LowValid=!1,this.round5=new m.by([])}refreshData(){let n=this.teamsSorted.data.slice().sort(g.sortFunctionAllMatches);this.teamsSorted.data=[],this.teamsSorted.data=n}initiateBracket(){this.round1.data=this.fillTeams(this.teamsUnsorted)}generateRound2(){for(let a of this.teamsUnsorted)a.swissMatchup=a.swissMatchup.slice(0,1),a.update();let n=[],e=[];for(let a of this.round1.data){const[o,p]=u.S.teamWon(a);n.push(this.teamsUnsorted[o]),e.push(this.teamsUnsorted[p])}n.sort(g.sortFunctionSwissRound),e.sort(g.sortFunctionSwissRound),this.round2High.data=this.fillTeams(n),this.round2Low.data=this.fillTeams(e),this.refreshData()}initiateRound2(n){!n||(this.generateRound2(),this.displayedColumns.length<3&&this.displayedColumns.push("Round 2"))}round2H(n){this.round2HighValid=n,this.initiateRound3()}round2L(n){this.round2LowValid=n,this.initiateRound3()}initiateRound3(){this.round2HighValid&&this.round2LowValid&&(this.generateRound3(),this.displayedColumns.length<4&&this.displayedColumns.push("Round 3"),this.refreshData())}generateRound3(){for(let o of this.teamsUnsorted)o.swissMatchup=o.swissMatchup.slice(0,2),o.update();let n=[],e=[],a=[];for(let o of this.round2High.data){const[p,d]=u.S.teamWon(o);n.push(this.teamsUnsorted[p]),e.push(this.teamsUnsorted[d])}for(let o of this.round2Low.data){const[p,d]=u.S.teamWon(o);e.push(this.teamsUnsorted[p]),a.push(this.teamsUnsorted[d])}n.sort(g.sortFunctionSwissRound),e.sort(g.sortFunctionSwissRound),a.sort(g.sortFunctionSwissRound),this.round3High.data=this.fillTeams(n),this.round3Mid.data=this.fillTeams(e),this.round3Low.data=this.fillTeams(a)}round3H(n){this.round3HighValid=n,this.initiateRound4()}round3M(n){this.round3MidValid=n,this.initiateRound4()}round3L(n){this.round3LowValid=n,this.initiateRound4()}initiateRound4(){this.round3HighValid&&this.round3MidValid&&this.round3LowValid&&(this.generateRound4(),this.displayedColumns.length<5&&this.displayedColumns.push("Round 4"),this.refreshData())}generateRound4(){for(let a of this.teamsUnsorted)a.swissMatchup=a.swissMatchup.slice(0,3),a.update();let n=[],e=[];for(let a of this.round3High.data){const[o,p]=u.S.teamWon(a);n.push(this.teamsUnsorted[p])}for(let a of this.round3Mid.data){const[o,p]=u.S.teamWon(a);n.push(this.teamsUnsorted[o]),e.push(this.teamsUnsorted[p])}for(let a of this.round3Low.data){const[o,p]=u.S.teamWon(a);e.push(this.teamsUnsorted[o])}n.sort(g.sortFunctionSwissRound),e.sort(g.sortFunctionSwissRound),this.round4High.data=this.fillTeams(n),this.round4Low.data=this.fillTeams(e)}round4H(n){this.round4HighValid=n,this.initiateRound5()}round4L(n){this.round4LowValid=n,this.initiateRound5()}initiateRound5(){this.round4HighValid&&this.round4LowValid&&(this.generateRound5(),this.refreshData(),this.displayedColumns.length<6&&this.displayedColumns.push("Round 5"))}generateRound5(){for(let e of this.teamsUnsorted)e.swissMatchup=e.swissMatchup.slice(0,4),e.update();let n=[];for(let e of this.round4High.data){const[a,o]=u.S.teamWon(e);n.push(this.teamsUnsorted[o])}for(let e of this.round4Low.data){const[a,o]=u.S.teamWon(e);n.push(this.teamsUnsorted[a])}n.sort(g.sortFunctionSwissRound),this.round5.data=this.fillTeams(n)}round5Val(n){if(n){this.refreshData();let e=[];for(let a of this.teamsSorted.data.slice(0,8))e.push(a.teamIndex);this.teamsTop8.next(e)}}testButton(){}fillTeams(n){let e=[],a=d=>{if(d.length<1)return[];let r=d[0].teamIndex;for(var h=0;h<d.length-1;h++){let x=d[d.length-1-h].teamIndex;if(void 0!==this.teamsUnsorted[x].teamBlacklist.find(yt=>yt==r))continue;let b=a(d.slice(1,d.length-1-h).concat(d.slice(d.length-h)));if(void 0===b)continue;let J=[new u.S(r,x)];return J.push(...b),J}},o=a(n);if(void 0===o){console.log("matchups undefined");for(var p=0;p<n.length/2;p++){let d=n[p].teamIndex,r=n[n.length-1-p].teamIndex,h=new u.S(d,r);e[p]=h,this.teamsUnsorted[d].swissMatchup.push(h),this.teamsUnsorted[r].swissMatchup.push(h)}}else{e=o;for(let d of e){let h=d.team2;this.teamsUnsorted[d.team1].swissMatchup.push(d),this.teamsUnsorted[h].swissMatchup.push(d)}}return e}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-swiss-stage"]],inputs:{loadBracket:"loadBracket"},outputs:{teamsTop8:"teamsTop8"},decls:69,vars:11,consts:[[1,"container"],[1,"item",2,"flex-grow","1"],[3,"teams","displayedColumns"],[1,"item",2,"flex-grow","2"],[2,"width","100%",3,"round","isValid","tableUpdate"],[2,"width","100%",3,"round","isValid"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-toolbar"),t._uU(1," Swiss Stage\n"),t.qZA(),t.TgZ(2,"div",0)(3,"div",1),t._UZ(4,"app-leader-board",2),t.qZA(),t.TgZ(5,"div",3)(6,"mat-toolbar"),t._uU(7," Round 1 "),t.qZA(),t.TgZ(8,"app-swiss-matchup",4),t.NdJ("isValid",function(o){return e.initiateRound2(o)})("tableUpdate",function(){return e.refreshData()}),t.qZA(),t.TgZ(9,"mat-toolbar"),t._uU(10," Round 2 "),t.qZA(),t.TgZ(11,"div",0)(12,"div",1)(13,"mat-card")(14,"mat-card-title"),t._uU(15,"High"),t.qZA(),t.TgZ(16,"mat-card-content")(17,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round2H(o)}),t.qZA()()()(),t.TgZ(18,"div",1)(19,"mat-card")(20,"mat-card-title"),t._uU(21,"Low"),t.qZA(),t.TgZ(22,"mat-card-content")(23,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round2L(o)}),t.qZA()()()()(),t.TgZ(24,"mat-toolbar"),t._uU(25," Round 3 "),t.qZA(),t.TgZ(26,"div",0)(27,"div",1)(28,"mat-card")(29,"mat-card-title"),t._uU(30,"High"),t.qZA(),t.TgZ(31,"mat-card-content")(32,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round3H(o)}),t.qZA()()()(),t.TgZ(33,"div",1)(34,"mat-card")(35,"mat-card-title"),t._uU(36,"Mid"),t.qZA(),t.TgZ(37,"mat-card-content")(38,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round3M(o)}),t.qZA()()()(),t.TgZ(39,"div",1)(40,"mat-card")(41,"mat-card-title"),t._uU(42,"Low"),t.qZA(),t.TgZ(43,"mat-card-content")(44,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round3L(o)}),t.qZA()()()()(),t.TgZ(45,"mat-toolbar"),t._uU(46," Round 4 "),t.qZA(),t.TgZ(47,"div",0)(48,"div",1)(49,"mat-card")(50,"mat-card-title"),t._uU(51,"High"),t.qZA(),t.TgZ(52,"mat-card-content")(53,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round4H(o)}),t.qZA()()()(),t.TgZ(54,"div",1)(55,"mat-card")(56,"mat-card-title"),t._uU(57,"Low"),t.qZA(),t.TgZ(58,"mat-card-content")(59,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round4L(o)}),t.qZA()()()()(),t.TgZ(60,"mat-toolbar"),t._uU(61," Round 5 "),t.qZA(),t.TgZ(62,"div",0)(63,"div",1)(64,"mat-card")(65,"mat-card-title"),t._uU(66,"High"),t.qZA(),t.TgZ(67,"mat-card-content")(68,"app-swiss-matchup",5),t.NdJ("isValid",function(o){return e.round5Val(o)}),t.qZA()()()()()()()),2&n&&(t.xp6(4),t.Q6J("teams",e.teamsSorted)("displayedColumns",e.displayedColumns),t.xp6(4),t.Q6J("round",e.round1),t.xp6(9),t.Q6J("round",e.round2High),t.xp6(6),t.Q6J("round",e.round2Low),t.xp6(9),t.Q6J("round",e.round3High),t.xp6(6),t.Q6J("round",e.round3Mid),t.xp6(6),t.Q6J("round",e.round3Low),t.xp6(9),t.Q6J("round",e.round4High),t.xp6(6),t.Q6J("round",e.round4Low),t.xp6(9),t.Q6J("round",e.round5))},dependencies:[S.Ye,f.a8,f.dn,f.n5,k,_t],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}table[_ngcontent-%COMP%]{width:90%;margin:auto}.formItem[_ngcontent-%COMP%]{flex-grow:1}"]}),i})();var wt=l(7654);class _ extends W.x{constructor(s=1/0,n=1/0,e=wt.l){super(),this._bufferSize=s,this._windowTime=n,this._timestampProvider=e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,n)}next(s){const{isStopped:n,_buffer:e,_infiniteTimeWindow:a,_timestampProvider:o,_windowTime:p}=this;n||(e.push(s),!a&&e.push(o.now()+p)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(s),{_infiniteTimeWindow:e,_buffer:a}=this,o=a.slice();for(let p=0;p<o.length&&!s.closed;p+=e?1:2)s.next(o[p]);return this._checkFinalizedStatuses(s),n}_trimBuffer(){const{_bufferSize:s,_timestampProvider:n,_buffer:e,_infiniteTimeWindow:a}=this,o=(a?1:2)*s;if(s<1/0&&o<e.length&&e.splice(0,e.length-o),!a){const p=n.now();let d=0;for(let r=1;r<e.length&&e[r]<=p;r+=2)d=r;d&&e.splice(0,d+1)}}}let Tt=(()=>{class i{constructor(){this.team=-1,this.teamWon=new t.vpe,this.teamScore=0}ngOnInit(){}checkWin(){4===this.teamScore&&this.teamWon.next()}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-single-matchup"]],inputs:{team:"team",top:"top"},outputs:{teamWon:"teamWon"},decls:4,vars:3,consts:[[1,"",3,"ngClass"],[3,"id"],["matInput","","type","number","min","0","max","4",3,"ngModel","ngModelChange","input"]],template:function(n,e){1&n&&(t.TgZ(0,"li",0),t._UZ(1,"app-team",1),t.TgZ(2,"mat-form-field")(3,"input",2),t.NdJ("ngModelChange",function(o){return e.teamScore=o})("input",function(){return e.checkWin()}),t.qZA()()()),2&n&&(t.Q6J("ngClass",e.top?"game game-top":"game game-bottom"),t.xp6(1),t.Q6J("id",e.team),t.xp6(2),t.Q6J("ngModel",e.teamScore))},dependencies:[c.Fj,c.wV,c.JJ,c.qQ,c.Fd,c.On,Z.mk,T.KE,M.Nt,C.h],styles:[".teamContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:50px}.round[_ngcontent-%COMP%]   .game-spacer[_ngcontent-%COMP%]{flex-grow:1}li[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}li.game[_ngcontent-%COMP%]{padding-left:20px}li.game.winner[_ngcontent-%COMP%]{font-weight:700}li.game[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;margin-right:5px}li.game-top[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}li.game-spacer[_ngcontent-%COMP%]{border-right:1px solid #aaa;min-height:40px}li.game-bottom[_ngcontent-%COMP%]{border-top:1px solid #aaa}"]}),i})(),Ct=(()=>{class i{constructor(){this.teams=Array(8),this.match1Winner=new _,this.match2Winner=new _,this.match3Winner=new _,this.match4Winner=new _,this.round2Match1Winner=new _,this.round2Match2Winner=new _,this.winner=new _;for(let n=0;n<8;n++)this.teams[n]=new _}ngOnDestroy(){this.teamsChanged.unsubscribe()}ngOnInit(){this.teamsChanged=this.teamsSubject.subscribe(n=>{for(let e=0;e<n.length&&e<this.teams.length;e++)this.teams[e].next(n[e])})}updateResults(n,e){n.subscribe(o=>{e.next(o)}).unsubscribe()}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-single-elim"]],inputs:{teamsSubject:"teamsSubject"},decls:61,vars:29,consts:[[1,"container"],[1,"tournament"],[1,"round","round-2"],[1,"spacer"],[3,"top","team","teamWon"],[1,"game","game-spacer"],[1,"round","round-3"],[1,"round","round-4"],[1,"round","round-5"],[3,"id"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-toolbar"),t._uU(1," Single Elimination Stage\n"),t.qZA(),t.TgZ(2,"div",0)(3,"div",1)(4,"ul",2)(5,"li",3),t._uU(6,"\xa0"),t.qZA(),t.TgZ(7,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[0],e.match1Winner)}),t.qZA(),t.TgZ(8,"li",5),t._uU(9,"\xa0"),t.qZA(),t.TgZ(10,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[7],e.match1Winner)}),t.qZA(),t.TgZ(11,"li",3),t._uU(12,"\xa0"),t.qZA(),t.TgZ(13,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[3],e.match2Winner)}),t.qZA(),t.TgZ(14,"li",5),t._uU(15,"\xa0"),t.qZA(),t.TgZ(16,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[4],e.match2Winner)}),t.qZA(),t.TgZ(17,"li",3),t._uU(18,"\xa0"),t.qZA(),t.TgZ(19,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[1],e.match3Winner)}),t.qZA(),t.TgZ(20,"li",5),t._uU(21,"\xa0"),t.qZA(),t.TgZ(22,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[6],e.match3Winner)}),t.qZA(),t.TgZ(23,"li",3),t._uU(24,"\xa0"),t.qZA(),t.TgZ(25,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[2],e.match4Winner)}),t.qZA(),t.TgZ(26,"li",5),t._uU(27,"\xa0"),t.qZA(),t.TgZ(28,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.teams[5],e.match4Winner)}),t.qZA(),t.TgZ(29,"li",3),t._uU(30,"\xa0"),t.qZA()(),t.TgZ(31,"ul",6)(32,"li",3),t._uU(33,"\xa0"),t.qZA(),t.TgZ(34,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.match1Winner,e.round2Match1Winner)}),t.qZA(),t.TgZ(35,"li",5),t._uU(36,"\xa0"),t.qZA(),t.TgZ(37,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.match2Winner,e.round2Match1Winner)}),t.qZA(),t.TgZ(38,"li",3),t._uU(39,"\xa0"),t.qZA(),t.TgZ(40,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.match3Winner,e.round2Match2Winner)}),t.qZA(),t.TgZ(41,"li",5),t._uU(42,"\xa0"),t.qZA(),t.TgZ(43,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.match4Winner,e.round2Match2Winner)}),t.qZA(),t.TgZ(44,"li",3),t._uU(45,"\xa0"),t.qZA()(),t.TgZ(46,"ul",7)(47,"li",3),t._uU(48,"\xa0"),t.qZA(),t.TgZ(49,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.round2Match1Winner,e.winner)}),t.qZA(),t.TgZ(50,"li",5),t._uU(51,"\xa0"),t.qZA(),t.TgZ(52,"app-single-matchup",4),t.NdJ("teamWon",function(){return e.updateResults(e.round2Match2Winner,e.winner)}),t.qZA(),t.TgZ(53,"li",3),t._uU(54,"\xa0"),t.qZA()(),t.TgZ(55,"ul",8)(56,"li",3),t._uU(57,"\xa0"),t.qZA(),t._UZ(58,"app-team",9),t.TgZ(59,"li",3),t._uU(60,"\xa0"),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("top",1)("team",e.teams[0]),t.xp6(3),t.Q6J("top",0)("team",e.teams[7]),t.xp6(3),t.Q6J("top",1)("team",e.teams[3]),t.xp6(3),t.Q6J("top",0)("team",e.teams[4]),t.xp6(3),t.Q6J("top",1)("team",e.teams[1]),t.xp6(3),t.Q6J("top",0)("team",e.teams[6]),t.xp6(3),t.Q6J("top",1)("team",e.teams[2]),t.xp6(3),t.Q6J("top",0)("team",e.teams[5]),t.xp6(6),t.Q6J("top",1)("team",e.match1Winner),t.xp6(3),t.Q6J("top",0)("team",e.match2Winner),t.xp6(3),t.Q6J("top",1)("team",e.match3Winner),t.xp6(3),t.Q6J("top",0)("team",e.match4Winner),t.xp6(6),t.Q6J("top",1)("team",e.round2Match1Winner),t.xp6(3),t.Q6J("top",0)("team",e.round2Match2Winner),t.xp6(6),t.Q6J("id",e.winner))},dependencies:[S.Ye,C.h,Tt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.tournament[_ngcontent-%COMP%]{display:flex;flex-direction:row}.round[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:300px;list-style:none;padding:0}.round[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}.round[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]:first-child, .round[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]:last-child{flex-grow:.5}.round[_ngcontent-%COMP%]   .game-spacer[_ngcontent-%COMP%]{flex-grow:1.45}body[_ngcontent-%COMP%]{font-family:sans-serif;font-size:small;padding:10px;line-height:1.4em}li.game[_ngcontent-%COMP%]{padding-left:20px}li.game.winner[_ngcontent-%COMP%]{font-weight:700}li.game[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;margin-right:5px}li.game-top[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}li.game-spacer[_ngcontent-%COMP%]{border-right:1px solid #aaa;min-height:40px}li.game-bottom[_ngcontent-%COMP%]{border-top:1px solid #aaa}"]}),i})();const Zt=[{path:"",component:(()=>{class i{constructor(n,e){this.teamsDb=n,this.route=e,this.params=[],this.teamsTop16=[],this.teamsTop8=new W.x,this.initiateBracket=new t.vpe,this.teamsChanged=this.teamsDb.teamsChanged.subscribe(()=>{this.teamsTop16=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],this.initiateBracket.next()})}ngOnDestroy(){this.teamsChanged.unsubscribe()}ngOnInit(){this.route.queryParams.subscribe(n=>{let e=n.teams;void 0!==e&&(this.params=e.split(" "),this.teamsDb.initiateTeamsDb(this.params))})}getTeams(){return this.teamsTop16.slice()}setTop8(n){this.teamsTop8.next(n)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(A.n),t.Y36(y.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-swiss-to-single"]],decls:3,vars:2,consts:[[1,"container"],[1,"item",3,"loadBracket","teamsTop8"],[1,"item",3,"teamsSubject"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"app-swiss-stage",1),t.NdJ("teamsTop8",function(o){return e.setTop8(o)}),t.qZA(),t._UZ(2,"app-single-elim",2),t.qZA()),2&n&&(t.xp6(1),t.Q6J("loadBracket",e.initiateBracket),t.xp6(1),t.Q6J("teamsSubject",e.teamsTop8))},dependencies:[ft,Ct],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.item[_ngcontent-%COMP%]{width:100%}"]}),i})()}];let St=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[y.Bz.forChild(Zt),y.Bz]}),i})(),Mt=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.u5,c.UX,Z.ez,S.g0,R.ot,L.N6,f.QW,m.p0,w.Hi,M.c,T.lN,N.LD,q.JF,Q.si,v.m,St]}),i})()}}]);
//# sourceMappingURL=src_app_swiss-to-single_swiss-to-single_module_ts.js.map