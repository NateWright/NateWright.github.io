<mat-toolbar>
    Swiss Stage
</mat-toolbar>
<div class="container">
    <div class="item" style="flex-grow: 1;">
        <table #teamTable mat-table [dataSource]="teams">
            <ng-container matColumnDef="seed">
                <th mat-header-cell *matHeaderCellDef>Seed</th>
                <td mat-cell *matCellDef="let element"> {{ this.teamsDb.getTeam(element.teamIndex).seed }} </td>
            </ng-container>
            <ng-container matColumnDef="teamName">
                <th mat-header-cell *matHeaderCellDef>Team Name</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-team [team]="this.teamsDb.getTeam(element.teamIndex)"></app-swiss-team>
                </td>
            </ng-container>
            <ng-container matColumnDef="Round 1">
                <th mat-header-cell *matHeaderCellDef>Round 1</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-opponent [swissTeam]="element" [matchup]="0">
                    </app-swiss-opponent>
                </td>
            </ng-container>
            <ng-container matColumnDef="Round 2">
                <th mat-header-cell *matHeaderCellDef>Round 2</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-opponent *ngIf="element.swissMatchup[1]" [swissTeam]="element" [matchup]="1">
                    </app-swiss-opponent>
                </td>
            </ng-container>
            <ng-container matColumnDef="Round 3">
                <th mat-header-cell *matHeaderCellDef>Round 3</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-opponent *ngIf="element.swissMatchup[1]" [swissTeam]="element" [matchup]="2">
                    </app-swiss-opponent>
                </td>
            </ng-container>
            <ng-container matColumnDef="Round 4">
                <th mat-header-cell *matHeaderCellDef>Round 4</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-opponent *ngIf="element.swissMatchup[1]" [swissTeam]="element" [matchup]="3">
                    </app-swiss-opponent>
                </td>
            </ng-container>
            <ng-container matColumnDef="Round 5">
                <th mat-header-cell *matHeaderCellDef>Round 5</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-opponent *ngIf="element.swissMatchup[4]" [swissTeam]="element" [matchup]="4">
                    </app-swiss-opponent>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef=" displayedColumns">
            </tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
    <div class="item" style="flex-grow: 2;">
        <mat-toolbar>
            Round 1
        </mat-toolbar>
        <!-- Round 1 -->
        <table mat-table [dataSource]="round1MatchUps" *ngIf="this.teamsDb.teams.length">
            <ng-container matColumnDef="team1">
                <th mat-header-cell *matHeaderCellDef>Team 1</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-team [team]="this.teamsDb.getTeam(element.team1)"></app-swiss-team>
                </td>
            </ng-container>
            <ng-container matColumnDef="score1">
                <th mat-header-cell *matHeaderCellDef>Wins</th>
                <td mat-cell *matCellDef="let element">
                    <mat-form-field appearance="fill" color="primary" style="width: 100px;">
                        <mat-label>Score</mat-label>
                        <mat-select [(value)]="element.team1Wins" (selectionChange)="this.refreshData()">
                            <mat-option value="0">0</mat-option>
                            <mat-option value="1">1</mat-option>
                            <mat-option value="2">2</mat-option>
                            <mat-option value="3">3</mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>
            </ng-container>
            <ng-container matColumnDef="score2">
                <th mat-header-cell *matHeaderCellDef>Losses</th>
                <td mat-cell *matCellDef="let element">
                    <mat-form-field appearance="fill" color="primary" style="width: 100px; padding: 0;">
                        <mat-label>Score</mat-label>
                        <mat-select [(value)]="element.team2Wins" (selectionChange)="this.refreshData()">
                            <mat-option value="0">0</mat-option>
                            <mat-option value="1">1</mat-option>
                            <mat-option value="2">2</mat-option>
                            <mat-option value="3">3</mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>
            </ng-container>
            <ng-container matColumnDef="team2">
                <th mat-header-cell *matHeaderCellDef>Team 2</th>
                <td mat-cell *matCellDef="let element">
                    <app-swiss-team [team]="this.teamsDb.getTeam(element.team2)"></app-swiss-team>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef=" displayedColumnsRound1">
            </tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsRound1;"></tr>
        </table>
        <div class="container" style="justify-content: flex-end">
            <button mat-raised-button color="accent" type="button" style="margin-right: 5%;">Set</button>
        </div>

        <!-- Round 2 -->
        <mat-toolbar>
            Round 2
        </mat-toolbar>
        <div class="container" *ngIf="false">
            <div class="item" style="flex-grow: 1;">
                <mat-card>
                    <mat-card-title>High</mat-card-title>
                    <mat-card-content>
                        <table mat-table [dataSource]="round2High">
                            <ng-container matColumnDef="team1">
                                <th mat-header-cell *matHeaderCellDef>Team 1</th>
                                <td mat-cell *matCellDef="let element">
                                    <app-swiss-team [team]="this.teamsDb.getTeam(element.team1)"></app-swiss-team>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="score1">
                                <th mat-header-cell *matHeaderCellDef>Wins</th>
                                <td mat-cell *matCellDef="let element">
                                    <mat-form-field appearance="fill" color="primary" style="width: 100px;">
                                        <mat-label>Score</mat-label>
                                        <mat-select [(value)]="element.team1Wins"
                                            (selectionChange)="this.refreshData()">
                                            <mat-option value="0">0</mat-option>
                                            <mat-option value="1">1</mat-option>
                                            <mat-option value="2">2</mat-option>
                                            <mat-option value="3">3</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="score2">
                                <th mat-header-cell *matHeaderCellDef>Losses</th>
                                <td mat-cell *matCellDef="let element">
                                    <mat-form-field appearance="fill" color="primary" style="width: 100px; padding: 0;">
                                        <mat-label>Score</mat-label>
                                        <mat-select [(value)]="element.team2Wins"
                                            (selectionChange)="this.refreshData()">
                                            <mat-option value="0">0</mat-option>
                                            <mat-option value="1">1</mat-option>
                                            <mat-option value="2">2</mat-option>
                                            <mat-option value="3">3</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="team2">
                                <th mat-header-cell *matHeaderCellDef>Team 2</th>
                                <td mat-cell *matCellDef="let element">
                                    <app-swiss-team [team]="this.teamsDb.getTeam(element.team2)"></app-swiss-team>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef=" displayedColumnsRound1">
                            </tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumnsRound1;"></tr>
                        </table>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="item" style="flex-grow: 1;">
                <mat-card>
                    <mat-card-title>Low</mat-card-title>
                    <mat-card-content>
                        <table mat-table [dataSource]="round2Low">
                            <ng-container matColumnDef="team1">
                                <th mat-header-cell *matHeaderCellDef>Team 1</th>
                                <td mat-cell *matCellDef="let element">
                                    <app-swiss-team [team]="this.teamsDb.getTeam(element.team1)"></app-swiss-team>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="score1">
                                <th mat-header-cell *matHeaderCellDef>Wins</th>
                                <td mat-cell *matCellDef="let element">
                                    <mat-form-field appearance="fill" color="primary" style="width: 100px;">
                                        <mat-label>Score</mat-label>
                                        <mat-select [(value)]="element.team1Wins"
                                            (selectionChange)="this.refreshData()">
                                            <mat-option value="0">0</mat-option>
                                            <mat-option value="1">1</mat-option>
                                            <mat-option value="2">2</mat-option>
                                            <mat-option value="3">3</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="score2">
                                <th mat-header-cell *matHeaderCellDef>Losses</th>
                                <td mat-cell *matCellDef="let element">
                                    <mat-form-field appearance="fill" color="primary" style="width: 100px; padding: 0;">
                                        <mat-label>Score</mat-label>
                                        <mat-select [(value)]="element.team2Wins"
                                            (selectionChange)="this.refreshData()">
                                            <mat-option value="0">0</mat-option>
                                            <mat-option value="1">1</mat-option>
                                            <mat-option value="2">2</mat-option>
                                            <mat-option value="3">3</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="team2">
                                <th mat-header-cell *matHeaderCellDef>Team 2</th>
                                <td mat-cell *matCellDef="let element">
                                    <app-swiss-team [team]="this.teamsDb.getTeam(element.team2)"></app-swiss-team>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef=" displayedColumnsRound1">
                            </tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumnsRound1;"></tr>
                        </table>
                    </mat-card-content>
                </mat-card>

            </div>
        </div>
    </div>

</div>